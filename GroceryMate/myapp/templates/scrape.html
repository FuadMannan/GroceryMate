{% extends 'base.html' %}
{% block title %}Grocery Mate{% endblock %}
{% block content %}
<div class="border m-3 p-2">
    <h2>Stores</h2>
    <div style="max-height: 500px; overflow-y: scroll;">
	    <table class="table table-striped table-bordered">
            <thead>
                <th>StoreID</th>
                <th>Chain</th>
                <th>Store Name</th>
                <th>Location</th>
            </thead>
            <tbody>
                {% for item in store_items %}
                <tr>
                    <td>{{ item.StoreID }}</td>
                    <td>{{ item.ChainID.ChainName }}</td>
                    <td>{{ item.StoreName }}</td>
                    <td>{{ item.Location }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <form method="get" action="get_locations">
        <div class="mb-3">
            Scrape Test
        </div>
        <select id="chain" name="chain" class="form-select my-2">
            {% for store in stores %}
            <option value="{{store}}">{{store}}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-primary">Scrape</button>
    </form>
    <div>
        {% if store %}
        <span>Getting data for {{ store }}</span>
        {% endif %}
    </div>
</div>
{% endblock %}
